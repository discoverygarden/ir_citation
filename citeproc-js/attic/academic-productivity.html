<p>Citation copy-editing is one of those deceptively small burdens that have a way of taking over the working day.  If left untended, the task of tidying up casually scribbled references can snowball to crisis proportions as a submission deadline approaches.  Similarly, when a submission to one publisher is unsuccessful, significant effort may be required to recast its citations in the format required by another. Collaboration outside of one's own field can bring with it an unwelcome tangle of fresh style-guide quandaries to ponder and fight through.  These are things that the machines, if they want to make themselves useful, should be doing for us.</p> <p>There is plenty of collective experience in this line, and as fate would have it, there are also plenty of collective solutions.  In the TeX/LaTeX world, authors and their editors can today choose between BibTeX and BibLaTeX — both of them excellent utilities — with the several variants of the former supported by no fewer than four separate versions of the BibTeX program. <a class="footnote-reference" href="#id10" id="id1">[1]</a> Users of WYSIWYG word processors can look to the bibliographic support built into Word or Open Office, or they can turn to an external solution such as EndNote ™, ProCite ™, Reference Manager ™, or more recently Zotero or Mendeley.  Migrating data between these environments is a process fraught with uncertainty, but it is sometimes unavoidable when you need this kind of output, and it can only be produced on that kind of system …</p> <p>… with so many solutions to choose from, it's hard to go right. <a class="footnote-reference" href="#id12" id="id2">[2]</a></p> <p>The <tt class="docutils literal"><span class="pre">citeproc-js</span></tt> citation processor is a Javascript implementation of the <em>Citation Style Language</em> (CSL), an XML schema for describing citation styles that aspires to strike this problem at its root.  CSL is a general, open standard that enables fully modular control over bibliographic formatting.  This means that CSL is capable of accurately describing styles used in many disciplines, from the sciences, through the humanities to law.  It also means that a CSL style description can be used with any other application that understands the CSL language.  And it means that the style description is separated to the extent possible from the target document; you can switch styles at any time, even after the writing process is complete. Generality, a comprehensive pooling of community resources, user-centric ease of use: all areas where our current menagerie of productivity tools could do better.</p> <p>CSL first saw wide application in the Zotero project. <a class="footnote-reference" href="#id15" id="id3">[3]</a> <tt class="docutils literal"><span class="pre">Citeproc-js</span></tt> has been developed in the first instance for use in Zotero, <a class="footnote-reference" href="#id17" id="id4">[4]</a> but it runs as a separate module via a (relatively) simple API, and with appropriate wrappers, it can be deployed pretty much anywhere.  Potentially, any application that generates dynamic content — text processors, word processors, weblog environments, and dynamic websites — can use CSL and <tt class="docutils literal"><span class="pre">citeproc-js</span></tt> to provide publisher-correct citation and bibliography facilities without exceptional programming effort. <a class="footnote-reference" href="#id19" id="id5">[5]</a></p> <p>Development of the CSL language has been spearheaded by Bruce D'Arcus. The <tt class="docutils literal"><span class="pre">citeproc-js</span></tt> processor adheres to version 1.0 of the CSL specification, <a class="footnote-reference" href="#id21" id="id6">[6]</a> which has been engineered and documented during the past year primarily by Bruce and Rintze Zelle, with incidental contributions by myself and others.  It will debut, together with the new processor, in Zotero 2.1, which should begin to emerge, if all goes well, during this calendar year.</p> <p>Meanwhile, the processor itself is complete, documented, and more or less ready to go. <a class="footnote-reference" href="#id23" id="id7">[7]</a> Here is a short run-down of some of the highlights:</p> <dl class="docutils"> <dt><strong>Disambiguation</strong></dt> <dd>In author-date citation styles, works by the same author must be distinguished from one another in some way.  The current Zotero processor performs name and cite disambiguation as required by the Chicago Manual of Style.  There are in fact at least six other disambiguation methods in general use. CSL 1.0 and the new processor will support all of them.</dd> <dt><strong>Sorting</strong></dt> <dd>The AGU journals, in particular, impose extremely demanding sorting rules in the bibliography. <a class="footnote-reference" href="#id25" id="id8">[8]</a> CSL 1.0 and the new processor support multiple sort keys with arbitrary sort order for each key.  A wide variety of sorting schemes can be implemented, including the AGU sort.</dd> <dt><strong>Parallel citation support</strong></dt> <dd>Many legal styles, including the Bluebook style common in American law journals, require that law cases appearing in multiple reporters be cited to each reporter, with the case name in front, and the court and year of decision at the end. <a class="footnote-reference" href="#id27" id="id9">[9]</a>  The new processor supports this behavior.</dd> <dt><strong>On-the-fly document updates</strong></dt> <dd>The API of the new processor supports targeted context-sensitive updates of citations in a document that are affected by an insertion, deletion or edit, for efficient transactions with a word-processor or weblog plugin.</dd> <dt><strong>Localization of dates</strong></dt> <dd>CSL version 0.8 currently supports the use of localized terms for style-supplied labels and the like.  CSL 1.0 will add sophisticated localization of dates; both the language of month names and the ordering and formatting of elements will adjust appropriately when the language of a citation style is changed.</dd> <dt><strong>Sophisticated names handling</strong></dt> <dd>A great deal of work has gone into enhancing the handling of names in CSL 1.0.  European conventions on the handling of particles such as &quot;von&quot;, &quot;van&quot;, &quot;di&quot; and the like can be accounted for appropriately both in the sorting and in the rendering of individual names.</dd> <dt><strong>In-field formatting</strong></dt> <dd>For scientific publishing, the new processor recognizes a limited subset of HTML as markup within titles, enabling superscript, subscript, small capitals, italics, boldface.  The processor also implements the flip-flopping of italic and boldface, and of quotation marks, to avoid ambiguity in rendered citations.  The HTML used in markup is transformed by the processor into the selected output format (HTML, RTF, LaTeX, or whatever) during rendering.</dd> <dt><strong>Multi-lingual citation support</strong></dt> <dd>The new processor implements experimental support for multi-lingual citations, providing a flexible mechanism for the transliteration of names and titles, for the supplementary translation of titles, and for the use of alternative sort strings needed for Asian languages.</dd> </dl> <p>As it leaves my laptop, <tt class="docutils literal"><span class="pre">citeproc-js</span></tt> is just a bare Javascript module with some test suite wrappers to check that it actually performs as advertised.  But with the widening availability and increasing efficiency of Javascript runtime tools, I do hope that it has some prospect of escaping from its cage and wreaking order on the world of bibliography management.</p> <hr class="docutils" /> <table class="docutils footnote" frame="void" id="id10" rules="none"> <colgroup><col class="label" /><col /></colgroup> <tbody valign="top"> <tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><em>See</em> Patashnik, &quot;BibTeX yesterday, today, and tomorrow&quot;, TUGboat, v.24, n.1, p. 27 (2003) [<a class="reference external" href="http://www.tug.org/TUGboat/Articles/tb24-1/patashnik.pdf">PDF</a>] (accessed 2010.01.17).</td></tr> </tbody> </table> <table class="docutils footnote" frame="void" id="id12" rules="none"> <colgroup><col class="label" /><col /></colgroup> <tbody valign="top"> <tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>The flavor of challenges to inter-operation in BibTeX is conveyed in a <a class="reference external" href="http://forums.zotero.org/discussion/10603/bibtex-import-book-with-field-pages/#Comment_50785">post to the Zotero Forums (user noksagt, January 15, 2010)</a>.  For an overview of the barriers in word processor environments, see Ginsburg, &quot;Unified Citation Management and Visualization Using Open Standards: The Open Citation System&quot;, J. of IT Standards &amp; Standardization Research, v.2, n.1, pp. 23-41 at 25-26 (2004) [<a class="reference external" href="http://www.infosci-journals.com/downloadPDF/pdf/ITJ2516_JQ62S0dPIQ.pdf">PDF</a>] (accessed 2010.01.17).</td></tr> </tbody> </table> <table class="docutils footnote" frame="void" id="id15" rules="none"> <colgroup><col class="label" /><col /></colgroup> <tbody valign="top"> <tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>CSL is also used by the <a class="reference external" href="http://www.mendeley.com/">Mendeley</a> bibliography system.</td></tr> </tbody> </table> <table class="docutils footnote" frame="void" id="id17" rules="none"> <colgroup><col class="label" /><col /></colgroup> <tbody valign="top"> <tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td>See the background summary provided in <a class="reference external" href="http://bitbucket.org/fbennett/citeproc-js/wiki/Home">Bennett, citeproc-js repository on BitBucket</a> (accessed 2010.01.17).</td></tr> </tbody> </table> <table class="docutils footnote" frame="void" id="id19" rules="none"> <colgroup><col class="label" /><col /></colgroup> <tbody valign="top"> <tr><td class="label"><a class="fn-backref" href="#id5">[5]</a></td><td>Note that CSL is larger than <tt class="docutils literal"><span class="pre">citeproc-js</span></tt>, which is just one implementation of the standard.  In fact, development of <tt class="docutils literal"><span class="pre">citeproc-js</span></tt> was inspired in part by the Haskell implementation of CSL 0.8, done by Andrea Rossato.  <em>See</em> <a class="reference external" href="http://code.haskell.org/citeproc-hs/">Rossato, &quot;citeproc-hs - A Haskell Implementation of the Citation Style Language&quot; (online document, 2008)</a> (accessed 2010.01.17).</td></tr> </tbody> </table> <table class="docutils footnote" frame="void" id="id21" rules="none"> <colgroup><col class="label" /><col /></colgroup> <tbody valign="top"> <tr><td class="label"><a class="fn-backref" href="#id6">[6]</a></td><td>As of this writing, the CSL version 1.0 schema has been tagged at <tt class="docutils literal"><span class="pre">rc2</span></tt>. See <a class="reference external" href="http://bitbucket.org/bdarcus/csl-schema/src/">D'Arcus, CSL Schema repository on BitBucket</a> (accessed 2010.01.17).</td></tr> </tbody> </table> <table class="docutils footnote" frame="void" id="id23" rules="none"> <colgroup><col class="label" /><col /></colgroup> <tbody valign="top"> <tr><td class="label"><a class="fn-backref" href="#id7">[7]</a></td><td><em>See</em> <a class="reference external" href="http://gsl-nagoya-u.net/http/pub/citeproc-doc.html">Bennett, &quot;Citation Style Language: Manual for the citeproc-js Processor&quot;</a> (accessed 2010.01.17)</td></tr> </tbody> </table> <table class="docutils footnote" frame="void" id="id25" rules="none"> <colgroup><col class="label" /><col /></colgroup> <tbody valign="top"> <tr><td class="label"><a class="fn-backref" href="#id8">[8]</a></td><td><em>See</em> &quot;AGU Reference Style&quot;, p. 3 (online document, Apr. 9, 2009) [<a class="reference external" href="http://www.agu.org/pubs/authors/manuscript_tools/journals/pdf/AGU_reference_style.pdf">PDF</a>] (accessed 2010.01.17).</td></tr> </tbody> </table> <table class="docutils footnote" frame="void" id="id27" rules="none"> <colgroup><col class="label" /><col /></colgroup> <tbody valign="top"> <tr><td class="label"><a class="fn-backref" href="#id9">[9]</a></td><td><em>E.g.</em>, <em>People v. Taylor</em>, 73 N.Y.2d 683, 690, 541 N.E.2d 386, 389, 543 N.Y.S.2d 357, 360 (1989) (this example from &quot;The Bluebook: A Uniform System of Citation&quot;, P.3 [Columbia Law Review Ass'n et al. eds., 17th ed. 2000]).</td></tr> </tbody> </table> </div>  
